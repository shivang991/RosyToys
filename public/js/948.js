"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[948],{4174:(e,a,t)=>{t.d(a,{c7:()=>s,j_:()=>l});var l={PRODUCT_CREATED:{type:"success",message:"Producto creado con éxito"},PRODUCT_UPDATED:{type:"success",message:"¡Actualizó con éxito los datos del producto!"},PRODUCT_DELETED:{type:"success",message:"¡Eliminado el producto con éxito!"},STAFF_CREATED:{type:"success",message:"¡Personal creado con éxito!"},STAFF_UPDATED:{type:"success",message:"¡El personal se actualizó con éxito!"},STAFF_DELETED:{type:"success",message:"¡Personal eliminado con éxito!"},LOGIN_SUCCESS:{type:"success",message:"¡Ingresó exitosamente!"},ADMIN_REGISTERED:{type:"success",message:"¡Administrador registrado con éxito!"},ADMIN_UPDATED:{type:"success",message:"¡Administrador actualizado con éxito!"},GENERAL_ERROR:{type:"error",message:"¡Ocurrió un error inesperado!"},INVALID_CREDENTIALS:{type:"error",message:"Verifique sus credenciales y vuelva a intentarlo."},USER_EXISTS:{type:"error",message:"Este correo electrónico ha sido tomado."},CONTACT_MESSAGE_ADDED:{type:"compact",message:"¡El mensaje nos llegó! Responderemos pronto."}};function n(e){window.dispatchEvent(new CustomEvent("notificationreq",{detail:e}))}var s=n},5345:(e,a,t)=>{t.d(a,{Z:()=>p});var l=t(821),n=t(7810),s={key:0},o=(0,l._)("p",{class:"my-2 text-gray-600"},"Haga clic para cambiar la imagen",-1),r=["src"],u=["onClick"],i=["onDrop"],d={class:"text-xl mb-1 text-gray-600"},c=(0,l._)("p",{class:"text-gray-600 mb-2"},"Suelta un archivo o",-1),m={inheritAttrs:!1};const p=Object.assign(m,{name:"BaseImageInput",props:{label:{type:String,required:!0},modelValue:{type:Blob,default:null},defaultSrc:{type:String,default:null},isInvalid:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e,a){var t=a.emit,m=e,p=(0,l.l1)(),f=Object.fromEntries(["drag","dragstart","dragend","dragover","dragenter","dragleave"].map((function(e){return[e,function(e){e.preventDefault(),e.stopPropagation()}]}))),h=(0,l.iH)(null),v=(0,l.iH)(!1);function w(e){if(e&&e.type.startsWith("image")){t("update:modelValue",e);var a=new FileReader;a.readAsDataURL(e),a.addEventListener("load",(function(e){h.value=e.target.result}))}}function g(e){var a;v.value=!1,w(null===(a=e.dataTransfer.files)||void 0===a?void 0:a[0])}function b(e){w(e.target.files[0])}function y(){t("update:modelValue",null),h.value=m.defaultSrc}return(0,l.YP)((function(){return m.modelValue}),(function(e){e?w(e):h.value=m.defaultSrc})),function(a,t){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.wy)((0,l._)("input",{type:"file",ref:"inputEl",onChange:b},null,544),[[l.F8,!1]]),(0,l._)("label",{class:(0,l.C_)(["py-1 px-2 rounded-t-md text-white",e.isInvalid?"bg-red-600":"bg-sky-500"])},(0,l.zw)(e.label),3),h.value||e.defaultSrc?((0,l.wg)(),(0,l.iD)("div",s,[o,(0,l._)("img",(0,l.dG)({src:h.value||e.defaultSrc},(0,l.SU)(p),{onClick:t[0]||(t[0]=function(e){return a.$refs.inputEl.click()})}),null,16,r),e.modelValue?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:(0,l.iM)(y,["prevent","stop"]),class:"py-1 text-sky-500 px-2 border border-sky-600 rounded-md mt-2"}," Quita la imagen ",8,u)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",(0,l.dG)({key:1,class:["py-8 flex flex-col items-center rounded-b-md shadow bg-gray-100 ring-gray-100",[e.isInvalid?"bg-red-50":"bg-gray-100",{"ring-2":v.value}]],onDrop:(0,l.iM)(g,["prevent","stop"]),onDragover:t[2]||(t[2]=function(e){return v.value=!0}),onDragleave:t[3]||(t[3]=function(e){return v.value=!1})},(0,l.mx)((0,l.SU)(f))),[(0,l._)("p",d,[(0,l.Wm)((0,l.SU)(n.GN),{icon:"fa fa-upload"})]),c,(0,l._)("button",{class:"text-sky-500 hover:underline",onClick:t[1]||(t[1]=(0,l.iM)((function(e){return a.$refs.inputEl.click()}),["prevent"]))}," Haga clic para navegar ")],16,i))])}}})},6846:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(821),n=t(7810),s={key:0,class:"z-20 bg-white my-8 shadow-xl rounded-md overflow-hidden max-w-lg h-max"},o={class:"flex justify-end"};const r={name:"BaseModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["close"],setup:function(e,a){var t=a.emit,r=e,u=(0,l.iH)(!1),i=(0,l.iH)(0);return(0,l.YP)((function(){return r.shouldShow}),(function(e){e&&(i.value=document.body.scrollHeight)})),function(a,r){return(0,l.wg)(),(0,l.j4)(l.lR,{to:"#app-modals"},[(0,l.Wm)(l.uT,{name:"modal",onAfterEnter:r[2]||(r[2]=function(e){return u.value=!0})},{default:(0,l.w5)((function(){return[e.shouldShow?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"bg-gradient-to-b from-transparent to-sky-100 grid w-full justify-center z-10",style:(0,l.j5)({height:"".concat(i.value,"px")})},[(0,l.Wm)(l.uT,{name:"modal",onAfterLeave:r[1]||(r[1]=function(e){return t("close")})},{default:(0,l.w5)((function(){return[u.value?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",o,[(0,l._)("button",{class:"text-xl p-4",onClick:r[0]||(r[0]=function(e){return u.value=!1})},[(0,l.Wm)((0,l.SU)(n.GN),{icon:"fa fa-times"})])]),(0,l.WI)(a.$slots,"default")])):(0,l.kq)("",!0)]})),_:3})],4)):(0,l.kq)("",!0)]})),_:3})])}}}},752:(e,a,t)=>{t.d(a,{Z:()=>o});var l=t(821),n={class:"grid"},s={class:"text-sm mb-1"};const o={name:"BaseTextField",props:{modelValue:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""},isTextArea:{type:Boolean,default:!1},type:{type:String,default:"text"},min:{type:Number,default:null},max:{type:Number,default:null},isInvalid:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e){var a=e,t=(0,l.iH)(!1),o=a.isTextArea?"textarea":"input";return function(a,r){return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("label",s,(0,l.zw)(e.label),1),((0,l.wg)(),(0,l.j4)((0,l.LL)((0,l.SU)(o)),{placeholder:e.placeholder||e.label,rows:"5",class:(0,l.C_)(["bg-transparent focus:outline-none resize-none rounded-md border px-4 py-1 focus:ring",{"border-red-600 bg-red-50":e.isInvalid}]),type:e.type,minlength:e.min,maxlength:e.max,value:e.modelValue,onInput:r[0]||(r[0]=function(e){return a.$emit("update:modelValue",e.target.value)}),onFocus:r[1]||(r[1]=function(e){return t.value=!0}),onBlur:r[2]||(r[2]=function(e){return t.value=!1})},null,40,["placeholder","class","type","minlength","maxlength","value"]))])}}}},6948:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ve});var l=t(821),n=t(2674),s=function(e){return new Date(e).toLocaleDateString("es",{day:"numeric",year:"2-digit",month:"short",time:"full"})},o=t(3907),r={key:0},u={class:"mb-4"},i=(0,l._)("caption",{class:"text-xl text-left"}," Admins: ",-1),d=(0,l._)("tr",{class:"h-10 px-12"},[(0,l._)("th"),(0,l._)("th",{class:"text-left px-4"},"Nombre"),(0,l._)("th",{class:"text-left px-4"},"Correo"),(0,l._)("th",{class:"text-left px-4"},"Se unió el")],-1),c={class:"px-4 py-2"},m={class:"px-4"},p={class:"px-4"},f={class:"px-4"},h=(0,l.Uk)(" Registre una nueva cuenta ");const v={name:"AdminsTable",props:{data:{type:Array,default:null}},setup:function(e){var a=(0,o.oR)(),t=(0,l.Fl)((function(){var e;return null===(e=a.state.auth.profile)||void 0===e?void 0:e.id}));return function(a,o){var v=(0,l.up)("router-link");return e.data?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("table",u,[i,d,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data,(function(e,a){return(0,l.wg)(),(0,l.iD)("tr",{key:a,class:(0,l.C_)({"bg-sky-100 shadow rounded":(0,l.SU)(t)===e.id})},[(0,l._)("td",c,[e.profile_image_url?((0,l.wg)(),(0,l.j4)(n.Z,{key:0,src:e.profile_image_url,"is-external":"",class:"w-10 h-10 rounded-full shadow object-cover"},null,8,["src"])):((0,l.wg)(),(0,l.j4)(n.Z,{key:1,src:"/user.jpg",class:"w-10 h-10 rounded-full shadow"}))]),(0,l._)("td",m,(0,l.zw)(e.name),1),(0,l._)("td",p,(0,l.zw)(e.email),1),(0,l._)("td",f,(0,l.zw)((0,l.SU)(s)(e.created_at)),1)],2)})),128))]),(0,l.Wm)(v,{to:{name:"AdminRegister"},class:"text-sky-600 hover:underline"},{default:(0,l.w5)((function(){return[h]})),_:1})])):(0,l.kq)("",!0)}}};var w=t(752),g=t(5345),b=t(6846),y=t(4318),x=t(4174),_=["onSubmit"],S={class:"space-y-8"},k={key:0,class:"w-4 block h-4 border-2 my-1 border-b-transparent border-sky-600 animate-spin rounded-full"},E={key:1},D=["disabled"],C={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},A={key:1};const j={name:"EditSelfModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["update:shouldShow","success"],setup:function(e,a){var t=a.emit,n=e,s=(0,l.qj)({name:"",password:"",image:null}),r=(0,l.iH)(null),u=(0,l.iH)(!1),i=(0,l.qj)(new Set),d=(0,l.iH)(!1),c=(0,o.oR)(),m=(0,l.Fl)((function(){return c.state.auth.profile})),p=(0,y.ZP)();function f(){u.value||(u.value=!0,p.authDelete("/api/user/admin/image").then((function(e){"success"===e.data.message&&(c.commit("auth/SET_PROFILE",{profile:e.data.profile}),u.value=!1,r.value=null)})))}function h(){i.clear(),s.name||i.add("name"),i.size||(d.value=!0,p.postMultipart("/api/user/admin/update/",{name:s.name,password:s.password,image:s.image}).then((function(e){"success"===e.data.message&&(c.commit("auth/SET_PROFILE",{profile:e.data.profile}),t("update:shouldShow",!1),t("success"),(0,x.c7)(x.j_.ADMIN_UPDATED))})).catch((function(e){console.log(e.response),(0,x.c7)(x.j_.GENERAL_ERROR)})).finally((function(){return d.value=!1})))}return(0,l.YP)((function(){return n.shouldShow}),(function(e){e&&(s.name=m.value.name,r.value=m.value.profile_image_url,s.image=null)})),function(a,n){return(0,l.wg)(),(0,l.j4)(b.Z,{"should-show":e.shouldShow,onClose:n[3]||(n[3]=function(e){return t("update:shouldShow",!1)})},{default:(0,l.w5)((function(){return[(0,l._)("form",{class:"w-80 px-4 pb-8",onSubmit:(0,l.iM)(h,["prevent"])},[(0,l._)("div",S,[(0,l._)("div",null,[(0,l.Wm)(g.Z,{"default-src":r.value,modelValue:s.image,"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.image=e}),class:"w-40 h-40 object-cover rounded-full shadow mx-auto",label:"Imagen de perfil"},null,8,["default-src","modelValue"]),r.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:f,type:"button",class:"mt-2 py-1 px-2 border border-sky-600 rounded-md text-sky-600"},[u.value?((0,l.wg)(),(0,l.iD)("span",k)):((0,l.wg)(),(0,l.iD)("span",E," Quita la imagen "))])):(0,l.kq)("",!0)]),(0,l.Wm)(w.Z,{modelValue:s.name,"onUpdate:modelValue":n[1]||(n[1]=function(e){return s.name=e}),label:"Nombre",min:4,max:24,"is-invalid":i.has("name")},null,8,["modelValue","is-invalid"]),(0,l.Wm)(w.Z,{modelValue:s.password,"onUpdate:modelValue":n[2]||(n[2]=function(e){return s.password=e}),label:"Contraseña (opcional)",type:"password",placeholder:"Nueva contraseña",min:6,max:24,"is-invalid":i.has("password")},null,8,["modelValue","is-invalid"])]),(0,l._)("button",{class:"bg-sky-600 py-2 mt-8 text-white rounded-md w-full",disabled:d.value,type:"submit"},[d.value?((0,l.wg)(),(0,l.iD)("span",C)):((0,l.wg)(),(0,l.iD)("span",A," Actualizar "))],8,D)],40,_)]})),_:1},8,["should-show"])}}};var U=t(7810);function V(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var l,n,s=[],o=!0,r=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(s.push(l.value),!a||s.length!==a);o=!0);}catch(e){r=!0,n=e}finally{try{o||null==t.return||t.return()}finally{if(r)throw n}}return s}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return R(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,l=new Array(a);t<a;t++)l[t]=e[t];return l}var T=["onSubmit"],Z={class:"space-y-8"},I={class:"flex space-x-4"},W={class:"flex space-x-4"},N=["disabled"],H={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},P={key:1};const z={name:"AddStaffModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["update:shouldShow","success"],setup:function(e,a){var t=a.emit,n=(0,l.qj)({name:"",password:"",passwordConfirm:"",email:"",image:null}),s=(0,l.qj)(new Set),o=(0,l.iH)(!1),r=(0,y.ZP)();function u(){s.clear(),Object.entries(n).forEach((function(e){var a=V(e,2),t=a[0],l=a[1];"image"!==t&&(l||s.add(t))})),/^\S+@\S+\.\S+$/.test(n.email)||s.add("email"),n.password!==n.passwordConfirm&&s.add("passwordConfirm"),s.size||(o.value=!0,r.postMultipart("/api/user/staff/create",{name:n.name,email:n.email,image:n.image,password:n.password}).then((function(e){"success"===e.data.message&&(n.image=null,n.name="",n.email="",n.password="",n.passwordConfirm="",t("update:shouldShow",!1),t("success"),(0,x.c7)(x.j_.STAFF_CREATED))})).catch((function(e){422===e.response.status?(0,x.c7)(x.j_.USER_EXISTS):(0,x.c7)(x.j_.GENERAL_ERROR),console.log(e.response)})).finally((function(){return o.value=!1})))}return function(a,r){return(0,l.wg)(),(0,l.j4)(b.Z,{"should-show":e.shouldShow,onClose:r[5]||(r[5]=function(e){return t("update:shouldShow",!1)})},{default:(0,l.w5)((function(){return[(0,l._)("form",{class:"px-4 pb-8",onSubmit:(0,l.iM)(u,["prevent"])},[(0,l._)("div",Z,[(0,l.Wm)(g.Z,{"is-invalid":s.has("image"),modelValue:n.image,"onUpdate:modelValue":r[0]||(r[0]=function(e){return n.image=e}),class:"w-40 h-40 object-cover rounded-full shadow mx-auto",label:"Imagen de perfil"},null,8,["is-invalid","modelValue"]),(0,l._)("div",I,[(0,l.Wm)(w.Z,{modelValue:n.name,"onUpdate:modelValue":r[1]||(r[1]=function(e){return n.name=e}),label:"Nombre",min:4,max:24,"is-invalid":s.has("name")},null,8,["modelValue","is-invalid"]),(0,l.Wm)(w.Z,{"is-invalid":s.has("email"),modelValue:n.email,"onUpdate:modelValue":r[2]||(r[2]=function(e){return n.email=e}),label:"Correo"},null,8,["is-invalid","modelValue"])]),(0,l._)("div",W,[(0,l.Wm)(w.Z,{"is-invalid":s.has("password"),modelValue:n.password,"onUpdate:modelValue":r[3]||(r[3]=function(e){return n.password=e}),type:"password",min:6,label:"Contraseña"},null,8,["is-invalid","modelValue"]),(0,l.Wm)(w.Z,{"is-invalid":s.has("passwordConfirm"),modelValue:n.passwordConfirm,"onUpdate:modelValue":r[4]||(r[4]=function(e){return n.passwordConfirm=e}),type:"password",label:"Confirmar contraseña"},null,8,["is-invalid","modelValue"])])]),(0,l._)("button",{class:"bg-sky-600 py-2 mt-8 text-white rounded-md w-full",disabled:o.value,type:"submit"},[o.value?((0,l.wg)(),(0,l.iD)("span",H)):((0,l.wg)(),(0,l.iD)("span",P," Crear "))],8,N)],40,T)]})),_:1},8,["should-show"])}}};var F={class:"px-4 pb-8 max-w-xs"},M={class:"mb-8 text-center"},O=(0,l._)("p",null,"¿Estás seguro de querer borrar este usuario?:",-1),L={class:"font-semibold"},q=["disabled"],G={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},B={key:1};const Y={name:"RemoveStaffModal",props:{shouldShow:{type:Boolean,default:!1},staff:{type:Object,default:null}},emits:["update:shouldShow","success"],setup:function(e,a){var t=a.emit,n=e,s=(0,l.iH)(!1),o=(0,y.ZP)();function r(){n.staff&&(s.value=!0,o.authDelete("/api/user/staff/".concat(n.staff.id)).then((function(e){"success"===e.data.message&&(t("update:shouldShow",!1),t("success"),(0,x.c7)(x.j_.STAFF_DELETED))})).catch((function(e){console.log(e.response),(0,x.c7)(x.j_.GENERAL_ERROR)})).finally((function(){return s.value=!1})))}return function(a,n){return(0,l.wg)(),(0,l.j4)(b.Z,{shouldShow:e.shouldShow,onClose:n[0]||(n[0]=function(e){return t("update:shouldShow",!1)})},{default:(0,l.w5)((function(){var a;return[(0,l._)("div",F,[(0,l._)("div",M,[O,(0,l._)("p",L,'"'+(0,l.zw)(null===(a=e.staff)||void 0===a?void 0:a.name)+'" ?',1)]),(0,l._)("button",{onClick:r,class:"bg-sky-600 py-2 text-white rounded-md w-full",disabled:s.value,type:"submit"},[s.value?((0,l.wg)(),(0,l.iD)("span",G)):((0,l.wg)(),(0,l.iD)("span",B," Si "))],8,q)])]})),_:1},8,["shouldShow"])}}};var $=["onSubmit"],Q={class:"space-y-8"},K={key:0,class:"w-4 block h-4 border-2 my-1 border-b-transparent border-sky-600 animate-spin rounded-full"},X={key:1},J=["disabled"],ee={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},ae={key:1};const te={name:"EditStaffModal",props:{shouldShow:{type:Boolean,default:!1},staff:{type:Object,default:null}},emits:["update:shouldShow","success"],setup:function(e,a){var t=a.emit,n=e,s=(0,l.qj)({name:"",image:null,password:""}),o=(0,l.iH)(null),r=(0,l.iH)(!1),u=(0,l.qj)(new Set),i=(0,l.iH)(!1),d=(0,y.ZP)();function c(){r.value||(r.value=!0,d.authDelete("/api/user/staff/image/".concat(n.staff.id)).then((function(e){"success"===e.data.message&&(r.value=!1,o.value=null)})))}function m(){u.clear(),s.name||u.add("name"),u.size||(i.value=!0,d.postMultipart("/api/user/staff/update/".concat(n.staff.id),{name:s.name,password:s.password,image:s.image}).then((function(e){"success"===e.data.message&&(t("update:shouldShow",!1),t("success"),(0,x.c7)(x.j_.STAFF_UPDATED))})).catch((function(e){console.log(e.response),(0,x.c7)(x.j_.GENERAL_ERROR)})).finally((function(){return i.value=!1})))}return(0,l.YP)((function(){return n.shouldShow}),(function(e){var a=n.staff;e&&a&&(s.name=a.name,s.image=null,o.value=a.profile_image_url)})),function(a,n){return(0,l.wg)(),(0,l.j4)(b.Z,{"should-show":e.shouldShow,onClose:n[3]||(n[3]=function(e){return t("update:shouldShow",!1)})},{default:(0,l.w5)((function(){return[(0,l._)("form",{class:"px-4 pb-8",onSubmit:(0,l.iM)(m,["prevent"])},[(0,l._)("div",Q,[(0,l._)("div",null,[(0,l.Wm)(g.Z,{"default-src":o.value,modelValue:s.image,"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.image=e}),class:"w-40 h-40 object-cover rounded-full shadow mx-auto",label:"Imagen de perfil"},null,8,["default-src","modelValue"]),o.value?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:c,type:"button",class:"mt-2 py-1 px-2 border border-sky-600 rounded-md text-sky-600"},[r.value?((0,l.wg)(),(0,l.iD)("span",K)):((0,l.wg)(),(0,l.iD)("span",X," Quita la imagen "))])):(0,l.kq)("",!0)]),(0,l.Wm)(w.Z,{modelValue:s.name,"onUpdate:modelValue":n[1]||(n[1]=function(e){return s.name=e}),label:"Nombre",min:4,max:24,"is-invalid":u.has("name")},null,8,["modelValue","is-invalid"]),(0,l.Wm)(w.Z,{modelValue:s.password,"onUpdate:modelValue":n[2]||(n[2]=function(e){return s.password=e}),label:"Contraseña (opcional)",type:"password",placeholder:"Nueva contraseña",min:6,max:24,"is-invalid":u.has("password")},null,8,["modelValue","is-invalid"])]),(0,l._)("button",{class:"bg-sky-600 py-2 mt-8 text-white rounded-md w-full",disabled:i.value,type:"submit"},[i.value?((0,l.wg)(),(0,l.iD)("span",ee)):((0,l.wg)(),(0,l.iD)("span",ae," Actualizar "))],8,J)],40,$)]})),_:1},8,["should-show"])}}};var le={key:0},ne={class:"flex mb-8 justify-between px-12"},se=(0,l._)("h5",{class:"text-xl py-2"},"Empleados / Usuarios:",-1),oe={class:"flex"},re=(0,l._)("span",null,"Agregar",-1),ue=["disabled"],ie=(0,l._)("span",{class:"group-disabled:opacity-50"},"Editar",-1),de=["disabled"],ce=(0,l._)("span",{class:"group-disabled:opacity-50"},"Eliminar",-1),me={class:"grid"},pe=(0,l._)("div",{class:"col-start-1 row-start-1 h-16 bg-sky-100"},null,-1),fe={class:"mx-12 col-start-1 row-start-1"},he=(0,l._)("tr",{class:"h-16 px-12"},[(0,l._)("th"),(0,l._)("th",{class:"text-left px-4"},"Nombre"),(0,l._)("th",{class:"text-left px-4"},"Correo"),(0,l._)("th",{class:"text-left px-4"},"Creado en")],-1),ve=["onClick"],we={class:"px-4 py-2"},ge={key:0,class:"text-slate-500 leading-10 w-10 text-center"},be={key:1,class:"rounded-full shadow overflow-hidden w-10 h-10"},ye={class:"px-4 py-2"},xe={class:"px-4 py-2"},_e={class:"px-4 py-2"};const Se={name:"StaffTable",props:{data:{type:Array,default:null}},emits:["update"],setup:function(e,a){var t=a.emit,o=(0,l.iH)(null),r=(0,l.iH)(!1),u=(0,l.iH)(!1),i=(0,l.iH)(!1);return(0,l.YP)([r,u,i],(function(e){e.some((function(e){return e}))&&scrollTo({top:0,behavior:"smooth"})})),function(a,d){return e.data?((0,l.wg)(),(0,l.iD)("div",le,[(0,l._)("div",ne,[se,(0,l._)("div",oe,[(0,l._)("button",{class:"px-4 flex items-center space-x-2 text-sky-600 border border-r-transparent border-sky-100 rounded-l-md",onClick:d[0]||(d[0]=function(e){return r.value=!0})},[re,(0,l.Wm)((0,l.SU)(U.GN),{icon:"fa fa-plus",class:"text-sm"})]),(0,l._)("button",{class:"px-4 flex items-center space-x-2 text-sky-600 border border-sky-100 group",disabled:null===o.value,onClick:d[1]||(d[1]=function(e){return i.value=!0})},[ie,(0,l.Wm)((0,l.SU)(U.GN),{icon:"fa fa-pen",class:"text-sm group-disabled:opacity-50"})],8,ue),(0,l._)("button",{class:"px-4 flex items-center space-x-2 text-red-600 border border-red-50 border-l-transparent rounded-r-md group",disabled:null===o.value,onClick:d[2]||(d[2]=function(e){return u.value=!0})},[ce,(0,l.Wm)((0,l.SU)(U.GN),{icon:"fa fa-times",class:"text-sm group-disabled:opacity-50"})],8,de)])]),(0,l._)("div",me,[pe,(0,l._)("table",fe,[he,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.data,(function(e,a){return(0,l.wg)(),(0,l.iD)("tr",{key:a,class:(0,l.C_)(["hover:bg-sky-100 cursor-pointer border-b",o.value===e?"border-transparent shadow rounded":"border-sky-600"]),onClick:function(a){return o.value=e}},[(0,l._)("td",we,[o.value===e?((0,l.wg)(),(0,l.iD)("p",ge,[(0,l.Wm)((0,l.SU)(U.GN),{icon:"fa fa-check-square"})])):((0,l.wg)(),(0,l.iD)("div",be,[e.profile_image_url?((0,l.wg)(),(0,l.j4)(n.Z,{key:0,src:e.profile_image_url,"is-external":"",class:"block object-cover"},null,8,["src"])):((0,l.wg)(),(0,l.j4)(n.Z,{key:1,src:"/user.jpg",class:"block"}))]))]),(0,l._)("td",ye,(0,l.zw)(e.name),1),(0,l._)("td",xe,(0,l.zw)(e.email),1),(0,l._)("td",_e,(0,l.zw)((0,l.SU)(s)(e.created_at)),1)],10,ve)})),128))])]),(0,l.Wm)(z,{onSuccess:d[3]||(d[3]=function(e){return t("update")}),"should-show":r.value,"onUpdate:should-show":d[4]||(d[4]=function(e){return r.value=e})},null,8,["should-show"]),(0,l.Wm)(Y,{onSuccess:d[5]||(d[5]=function(e){return t("update")}),"should-show":u.value,"onUpdate:should-show":d[6]||(d[6]=function(e){return u.value=e}),staff:o.value},null,8,["should-show","staff"]),(0,l.Wm)(te,{onSuccess:d[7]||(d[7]=function(e){return t("update")}),"should-show":i.value,"onUpdate:should-show":d[8]||(d[8]=function(e){return i.value=e}),staff:o.value},null,8,["should-show","staff"])])):(0,l.kq)("",!0)}}};var ke={class:"mt-8 py-8 w-11/12 lg:w-3/4 mx-auto bg-white rounded-md shadow"},Ee={class:"mb-12 px-12"},De=(0,l._)("h4",{class:"font-semibold mb-8 text-2xl"}," Administrador de usuarios ",-1),Ce={class:"mb-12"},Ae=(0,l._)("h5",{class:"mb-4 text-xl"},"Tu Perfil:",-1),je={class:"flex space-x-4 items-center"},Ue={class:"text-slate-500 mb-2"};const Ve={name:"UserManager",setup:function(e){var a=(0,l.iH)(null),t=(0,l.iH)(null),s=(0,y.ZP)();function r(){s.authGet("/api/user/all").then((function(e){a.value=e.data.admins,t.value=e.data.staff}))}r();var u=(0,o.oR)(),i=(0,l.Fl)((function(){var e;return null===(e=u.state.auth)||void 0===e?void 0:e.profile})),d=(0,l.iH)(!1);return function(e,s){return(0,l.wg)(),(0,l.iD)("div",ke,[(0,l._)("div",Ee,[De,(0,l._)("div",Ce,[Ae,(0,l._)("div",je,[(0,l.SU)(i).profile_image_url?((0,l.wg)(),(0,l.j4)(n.Z,{key:0,src:(0,l.SU)(i).profile_image_url,class:"w-16 h-16 rounded-full shadow","is-external":""},null,8,["src"])):((0,l.wg)(),(0,l.j4)(n.Z,{key:1,src:"/user.jpg",class:"w-16 h-16 rounded-full shadow"})),(0,l._)("div",null,[(0,l._)("p",null,(0,l.zw)((0,l.SU)(i).name),1),(0,l._)("p",Ue,(0,l.zw)((0,l.SU)(i).email),1),(0,l._)("button",{class:"text-sky-600 hover:underline",onClick:s[0]||(s[0]=function(e){return d.value=!0})}," Editar ")])])]),(0,l.Wm)(v,{data:a.value},null,8,["data"])]),(0,l.Wm)(Se,{onUpdate:r,data:t.value},null,8,["data"]),(0,l.Wm)(j,{shouldShow:d.value,"onUpdate:shouldShow":s[1]||(s[1]=function(e){return d.value=e})},null,8,["shouldShow"])])}}}}}]);